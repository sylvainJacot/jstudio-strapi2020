{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/sylv/Desktop/Work/Jacot Studio/WEBSITE/WEB/Jacot Studio 2020/02_Web/jcstudio-strapi/jctstudio20-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/sylv/Desktop/Work/Jacot Studio/WEBSITE/WEB/Jacot Studio 2020/02_Web/jcstudio-strapi/jctstudio20-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sylv/Desktop/Work/Jacot Studio/WEBSITE/WEB/Jacot Studio 2020/02_Web/jcstudio-strapi/jctstudio20-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sylv/Desktop/Work/Jacot Studio/WEBSITE/WEB/Jacot Studio 2020/02_Web/jcstudio-strapi/jctstudio20-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  width: calc(100% - 80px);\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100vh;\\n  background-color: white;\\n  padding-top: 64px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n\\n  \",\"\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import ThumbnailBlog from\"../04 Organisms/BlogPage/ThumbnailBlog\";import{media}from\"../01 Atoms/MediaQueries\";import parse from\"html-react-parser\";import{pathblog}from\"../01 Atoms/Data\";import AnimatedLogoJS from\"../01 Atoms/animated-logojs\";import postsAPI from\"../services/postsAPI\";var BlogPage=function BlogPage(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];useEffect(function(){fetchAllPosts();},[]);// We create a function outside the useEffect hook because it cannot take \"async\"\nvar fetchAllPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return postsAPI.findAll();case 2:data=_context.sent;setPosts(data);setIsLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchAllPosts(){return _ref.apply(this,arguments);};}();// var parse = require(\"html-react-parser\");\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BlogPageContainer,null,isLoading?/*#__PURE__*/React.createElement(AnimatedLogoJS,null):posts.map(function(item,index){return/*#__PURE__*/React.createElement(ThumbnailBlog,{key:index,thumbnail:item.thumbnail[0].url,title:item.title,descriptionpost:parse(item.Description.substring(0,208)+\"...\"),slug:pathblog+\"/\"+item.slug});})));};export default BlogPage;export var BlogPageContainer=styled.div(_templateObject(),media.desktop(_templateObject2()));","map":{"version":3,"sources":["/Users/sylv/Desktop/Work/Jacot Studio/WEBSITE/WEB/Jacot Studio 2020/02_Web/jcstudio-strapi/jctstudio20-front/src/components/05 Pages/BlogPage.js"],"names":["React","useState","useEffect","styled","ThumbnailBlog","media","parse","pathblog","AnimatedLogoJS","postsAPI","BlogPage","isLoading","setIsLoading","posts","setPosts","fetchAllPosts","findAll","data","map","item","index","thumbnail","url","title","Description","substring","slug","BlogPageContainer","div","desktop"],"mappings":"q4CAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,wCAA1B,CACA,OAASC,KAAT,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,6BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,eACaT,QAAQ,CAAC,IAAD,CADrB,wCACdU,SADc,eACHC,YADG,8BAEKX,QAAQ,CAAC,IAAD,CAFb,yCAEdY,KAFc,eAEPC,QAFO,eAIrBZ,SAAS,CAAC,UAAM,CACda,aAAa,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA;AACA,GAAMA,CAAAA,aAAa,0FAAG,kKACDN,CAAAA,QAAQ,CAACO,OAAT,EADC,QACdC,IADc,eAEpBH,QAAQ,CAACG,IAAD,CAAR,CACAL,YAAY,CAAC,KAAD,CAAZ,CAHoB,sDAAH,kBAAbG,CAAAA,aAAa,0CAAnB,CAMA;AAEA,mBACE,qDACE,oBAAC,iBAAD,MACGJ,SAAS,cACR,oBAAC,cAAD,MADQ,CAGRE,KAAK,CAACK,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,qBACR,oBAAC,aAAD,EACE,GAAG,CAAEA,KADP,CAEE,SAAS,CAAED,IAAI,CAACE,SAAL,CAAe,CAAf,EAAkBC,GAF/B,CAGE,KAAK,CAAEH,IAAI,CAACI,KAHd,CAIE,eAAe,CAAEjB,KAAK,CACpBa,IAAI,CAACK,WAAL,CAAiBC,SAAjB,CAA2B,CAA3B,CAA8B,GAA9B,EAAqC,KADjB,CAJxB,CAOE,IAAI,CAAElB,QAAQ,CAAG,GAAX,CAAiBY,IAAI,CAACO,IAP9B,EADQ,EAAV,CAJJ,CADF,CADF,CAqBD,CAtCD,CAwCA,cAAehB,CAAAA,QAAf,CAEA,MAAO,IAAMiB,CAAAA,iBAAiB,CAAGxB,MAAM,CAACyB,GAAV,mBAS1BvB,KAAK,CAACwB,OAToB,qBAAvB","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport ThumbnailBlog from \"../04 Organisms/BlogPage/ThumbnailBlog\";\nimport { media } from \"../01 Atoms/MediaQueries\";\nimport parse from \"html-react-parser\";\nimport { pathblog } from \"../01 Atoms/Data\";\nimport AnimatedLogoJS from \"../01 Atoms/animated-logojs\";\nimport postsAPI from \"../services/postsAPI\";\n\nconst BlogPage = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [posts, setPosts] = useState(null);\n\n  useEffect(() => {\n    fetchAllPosts();\n  }, []);\n\n  // We create a function outside the useEffect hook because it cannot take \"async\"\n  const fetchAllPosts = async () => {\n    const data = await postsAPI.findAll();\n    setPosts(data);\n    setIsLoading(false);\n  }\n\n  // var parse = require(\"html-react-parser\");\n\n  return (\n    <>\n      <BlogPageContainer>\n        {isLoading ? (\n          <AnimatedLogoJS />\n        ) : (\n          posts.map((item, index) => (\n            <ThumbnailBlog\n              key={index}\n              thumbnail={item.thumbnail[0].url}\n              title={item.title}\n              descriptionpost={parse(\n                item.Description.substring(0, 208) + \"...\"\n              )}\n              slug={pathblog + \"/\" + item.slug}\n            />\n          ))\n        )}\n      </BlogPageContainer>\n    </>\n  );\n};\n\nexport default BlogPage;\n\nexport const BlogPageContainer = styled.div`\n  width: 100%;\n  height: 100vh;\n  background-color: white;\n  padding-top: 64px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  ${media.desktop`\n  align-items: center;\n  width: calc(100% - 80px);\n`}\n`;\n"]},"metadata":{},"sourceType":"module"}